{"remainingRequest":"/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/babel-loader/lib/index.js!/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/ts-loader/index.js??ref--14-2!/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/src/views/employee/index.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/src/views/employee/index.vue","mtime":1714765627595},{"path":"/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/babel.config.js","mtime":1652756116000},{"path":"/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/cache-loader/dist/cjs.js","mtime":1714690535617},{"path":"/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/babel-loader/lib/index.js","mtime":1714690535709},{"path":"/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/ts-loader/index.js","mtime":1714690535434},{"path":"/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/cache-loader/dist/cjs.js","mtime":1714690535617},{"path":"/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/vue-loader/lib/index.js","mtime":1714690535824}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es6.function.name\");\nvar _employee = require(\"@/api/employee\");\nvar _default = exports.default = {\n  //model data\n  data: function data() {\n    return {\n      name: '',\n      page: 1,\n      pageSize: 10,\n      total: 0,\n      records: []\n    };\n  },\n  created: function created() {\n    this.pageQuery();\n  },\n  methods: {\n    //pagination query\n    pageQuery: function pageQuery() {\n      var _this = this;\n      //prepare request parameters\n      var params = {\n        name: this.name,\n        page: this.page,\n        pageSize: this.pageSize\n      };\n      //send Ajax request to query backend service, getting the pagination data\n      (0, _employee.getEmployeeList)(params).then(function (res) {\n        if (res.data.code === 1) {\n          _this.total = res.data.data.total;\n          _this.records = res.data.data.records;\n        }\n      }).catch(function (err) {\n        _this.$message.error('Rquest error: ' + err.message);\n      });\n    },\n    //handle pageSize change\n    handleSizeChange: function handleSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.pageQuery();\n    },\n    //handle page change\n    handleCurrentChange: function handleCurrentChange(page) {\n      this.page = page;\n      this.pageQuery();\n    },\n    //handle enable or disable an account\n    handleEnableOrDisable: function handleEnableOrDisable(row) {\n      var _this2 = this;\n      if (row.username === 'admin') {\n        this.$message.error('admin is the administator account, it cannot be edit!');\n        return;\n      }\n      //alert(`id=${row.id} status=${row.status}`)\n      //pop the confirm box\n      this.$confirm('Are you sure you want to edit the account status?', 'prompt', {\n        confirmButtonText: 'Confirm',\n        cancelButtonText: 'Cancel',\n        type: 'warning'\n      }).then(function () {\n        var p = {\n          id: row.id,\n          status: !row.status ? 1 : 0\n        };\n        (0, _employee.enableOrDisableEmployee)(p).then(function (res) {\n          if (res.data.code === 1) {\n            _this2.$message.success('Employee account status edited successfully!');\n            _this2.pageQuery();\n          }\n        });\n      });\n    },\n    //jump to add employee view(component) \n    handleAddEmp: function handleAddEmp() {\n      this.$router.push('/employee/add');\n    },\n    //jump to update employee view(component) \n    handleUpdateEmp: function handleUpdateEmp(row) {\n      if (row.username === 'admin') {\n        this.$message.error('admin is the administrator, and can not be edited!');\n        return;\n      }\n      this.$router.push({\n        path: '/employee/add',\n        query: {\n          id: row.id\n        }\n      });\n    }\n  }\n};",{"version":3,"names":["_employee","require","_default","exports","default","data","name","page","pageSize","total","records","created","pageQuery","methods","_this","params","getEmployeeList","then","res","code","catch","err","$message","error","message","handleSizeChange","handleCurrentChange","handleEnableOrDisable","row","_this2","username","$confirm","confirmButtonText","cancelButtonText","type","p","id","status","enableOrDisableEmployee","success","handleAddEmp","$router","push","handleUpdateEmp","path","query"],"sources":["/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/src/views/employee/index.vue?vue&type=script&lang=ts"],"sourcesContent":["\r\nimport { getEmployeeList, enableOrDisableEmployee } from '@/api/employee'\r\nimport { Row } from 'element-ui'\r\n\r\nexport default {\r\n  //model data\r\n  data() {\r\n    return {\r\n      name: '',//employee name \r\n      page: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      records: [],\r\n    }\r\n  },\r\n  created() {\r\n    this.pageQuery()\r\n  },\r\n  methods: {\r\n    //pagination query\r\n    pageQuery() {\r\n      //prepare request parameters\r\n      const params = {\r\n        name: this.name,\r\n        page: this.page,\r\n        pageSize: this.pageSize,\r\n      }\r\n      //send Ajax request to query backend service, getting the pagination data\r\n      getEmployeeList(params)\r\n        .then((res) => {\r\n          if (res.data.code === 1) {\r\n            this.total = res.data.data.total\r\n            this.records = res.data.data.records\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.$message.error('Rquest error: ' + err.message)\r\n        })\r\n    },\r\n    //handle pageSize change\r\n    handleSizeChange(pageSize) {\r\n      this.pageSize = pageSize\r\n      this.pageQuery()\r\n    },\r\n    //handle page change\r\n    handleCurrentChange(page) {\r\n      this.page = page\r\n      this.pageQuery()\r\n    },\r\n    //handle enable or disable an account\r\n    handleEnableOrDisable(row) {\r\n      if(row.username === 'admin') {\r\n        this.$message.error('admin is the administator account, it cannot be edit!')\r\n        return\r\n      }\r\n      //alert(`id=${row.id} status=${row.status}`)\r\n\r\n      //pop the confirm box\r\n      this.$confirm(\r\n        'Are you sure you want to edit the account status?',\r\n        'prompt',\r\n        {\r\n          confirmButtonText: 'Confirm',\r\n          cancelButtonText: 'Cancel',\r\n          type: 'warning',\r\n        }\r\n      ).then(() => {\r\n        const p = {\r\n          id: row.id,\r\n          status: !row.status ? 1 : 0,\r\n        }\r\n\r\n        enableOrDisableEmployee(p).then((res) => {\r\n          if (res.data.code === 1) {\r\n            this.$message.success(\r\n              'Employee account status edited successfully!'\r\n            )\r\n            this.pageQuery()\r\n          }\r\n        })\r\n      })\r\n    },\r\n    //jump to add employee view(component) \r\n    handleAddEmp() {\r\n      this.$router.push('/employee/add')\r\n    }, \r\n    //jump to update employee view(component) \r\n    handleUpdateEmp(row) {\r\n      if(row.username === 'admin') {\r\n        this.$message.error('admin is the administrator, and can not be edited!')\r\n        return\r\n      }\r\n      this.$router.push({\r\n        path: '/employee/add', \r\n        query: {id: row.id}\r\n      })\r\n    }\r\n  },\r\n}\r\n"],"mappings":"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","ignoreList":[]}]}