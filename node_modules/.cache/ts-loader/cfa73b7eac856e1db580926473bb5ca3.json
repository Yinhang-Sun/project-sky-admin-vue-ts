{"remainingRequest":"/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/babel-loader/lib/index.js!/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/ts-loader/index.js??ref--14-2!/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/src/views/employee/addEmployee.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/src/views/employee/addEmployee.vue","mtime":1714759795924},{"path":"/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/babel.config.js","mtime":1652756116000},{"path":"/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/cache-loader/dist/cjs.js","mtime":1714690535617},{"path":"/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/babel-loader/lib/index.js","mtime":1714690535709},{"path":"/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/ts-loader/index.js","mtime":1714690535434},{"path":"/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/cache-loader/dist/cjs.js","mtime":1714690535617},{"path":"/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/vue-loader/lib/index.js","mtime":1714690535824}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _employee = require(\"@/api/employee\");\nvar _default = exports.default = {\n  data: function data() {\n    return {\n      optType: 'add',\n      ruleForm: {\n        name: '',\n        username: '',\n        sex: '1',\n        phone: '',\n        idNumber: ''\n      },\n      rules: {\n        name: [{\n          required: true,\n          message: 'Please enter employee name',\n          trigger: 'blur'\n        }],\n        username: [{\n          required: true,\n          message: 'Please enter employee username',\n          trigger: 'blur'\n        }],\n        phone: [{\n          required: true,\n          trigger: 'blur',\n          validator: function validator(rule, value, callback) {\n            if (value === '' || !/^1(3|4|5|6|7|8)\\d{9}$/.test(value)) {\n              callback(new Error('Please enter a correct phone number!'));\n            } else {\n              callback();\n            }\n          }\n        }],\n        idNumber: [{\n          required: true,\n          trigger: 'blur',\n          validator: function validator(rule, value, callback) {\n            if (value === '' || !/(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(x|X)$)/.test(value)) {\n              callback(new Error('Please enter a correct id number!'));\n            } else {\n              callback();\n            }\n          }\n        }]\n      }\n    };\n  },\n  methods: {\n    submitForm: function submitForm(formName, isContinue) {\n      var _this = this;\n      //check the form valid or not \n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          //send ajax request to submit data to backend \n          (0, _employee.addEmployee)(_this.ruleForm).then(function (res) {\n            if (res.data.code === 1) {\n              _this.$message.success('Added Employee Successfully!');\n              if (isContinue) {\n                _this.ruleForm = {\n                  name: '',\n                  username: '',\n                  sex: '1',\n                  phone: '',\n                  idNumber: ''\n                };\n              } else {\n                _this.$router.push('/employee');\n              }\n            } else {\n              _this.$message.error(res.data.message);\n            }\n          });\n        }\n      });\n    }\n  }\n};",{"version":3,"names":["_employee","require","_default","exports","default","data","optType","ruleForm","name","username","sex","phone","idNumber","rules","required","message","trigger","validator","rule","value","callback","test","Error","methods","submitForm","formName","isContinue","_this","$refs","validate","valid","addEmployee","then","res","code","$message","success","$router","push","error"],"sources":["/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yinhang_sun/Developer/vue-project/project-sky-admin-vue-ts/src/views/employee/addEmployee.vue?vue&type=script&lang=ts"],"sourcesContent":["\r\nimport {addEmployee} from '@/api/employee'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      optType: 'add', \r\n      ruleForm: {\r\n        name: '', \r\n        username: '', \r\n        sex: '1', \r\n        phone: '', \r\n        idNumber: ''\r\n      }, \r\n      rules: {\r\n        name: [\r\n            { required: true, message: 'Please enter employee name', trigger: 'blur' }\r\n        ],\r\n        username: [\r\n            { required: true, message: 'Please enter employee username', trigger: 'blur' }\r\n        ],\r\n        phone: [\r\n          { required: true, trigger: 'blur', validator: (rule, value, callback) => {\r\n            if(value === '' || (!/^1(3|4|5|6|7|8)\\d{9}$/.test(value))){\r\n              callback(new Error('Please enter a correct phone number!'))\r\n            } else {\r\n              callback()\r\n            }\r\n          }}\r\n        ], \r\n        idNumber: [\r\n          { required: true, trigger: 'blur', validator: (rule, value, callback) => {\r\n            if(value === '' || (!/(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(x|X)$)/.test(value))){\r\n              callback(new Error('Please enter a correct id number!'))\r\n            } else {\r\n              callback()\r\n            }\r\n          }}\r\n        ]\r\n      }\r\n    }\r\n  }, \r\n  methods: {\r\n    submitForm(formName, isContinue) {\r\n      //check the form valid or not \r\n      this.$refs[formName].validate((valid) => {\r\n        if(valid) {\r\n          //send ajax request to submit data to backend \r\n          addEmployee(this.ruleForm).then((res) => {\r\n            if(res.data.code === 1) {\r\n              this.$message.success('Added Employee Successfully!')\r\n              if(isContinue) {\r\n                this.ruleForm = {\r\n                  name: '', \r\n                  username: '', \r\n                  sex: '1', \r\n                  phone: '', \r\n                  idNumber: ''\r\n                }\r\n              } else {\r\n                this.$router.push('/employee')\r\n              }\r\n            } else {\r\n              this.$message.error(res.data.message)\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n  \r\n}\r\n"],"mappings":";;;;;;AACA,IAAAA,SAAA,GAAAC,OAAA;AAA0C,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAE3B;EACbC,IAAI,WAAAA,KAAA;IACF,OAAO;MACLC,OAAO,EAAE,KAAK;MACdC,QAAQ,EAAE;QACRC,IAAI,EAAE,EAAE;QACRC,QAAQ,EAAE,EAAE;QACZC,GAAG,EAAE,GAAG;QACRC,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE;OACX;MACDC,KAAK,EAAE;QACLL,IAAI,EAAE,CACF;UAAEM,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE,4BAA4B;UAAEC,OAAO,EAAE;QAAM,CAAE,CAC7E;QACDP,QAAQ,EAAE,CACN;UAAEK,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE,gCAAgC;UAAEC,OAAO,EAAE;QAAM,CAAE,CACjF;QACDL,KAAK,EAAE,CACL;UAAEG,QAAQ,EAAE,IAAI;UAAEE,OAAO,EAAE,MAAM;UAAEC,SAAS,EAAE,SAAAA,UAACC,IAAI,EAAEC,KAAK,EAAEC,QAAQ,EAAI;YACtE,IAAGD,KAAK,KAAK,EAAE,IAAK,CAAC,uBAAuB,CAACE,IAAI,CAACF,KAAK,CAAE,EAAC;cACxDC,QAAQ,CAAC,IAAIE,KAAK,CAAC,sCAAsC,CAAC,CAAC;aAC5D,MAAM;cACLF,QAAQ,EAAE;;UAEd;QAAC,CAAC,CACH;QACDR,QAAQ,EAAE,CACR;UAAEE,QAAQ,EAAE,IAAI;UAAEE,OAAO,EAAE,MAAM;UAAEC,SAAS,EAAE,SAAAA,UAACC,IAAI,EAAEC,KAAK,EAAEC,QAAQ,EAAI;YACtE,IAAGD,KAAK,KAAK,EAAE,IAAK,CAAC,uCAAuC,CAACE,IAAI,CAACF,KAAK,CAAE,EAAC;cACxEC,QAAQ,CAAC,IAAIE,KAAK,CAAC,mCAAmC,CAAC,CAAC;aACzD,MAAM;cACLF,QAAQ,EAAE;;UAEd;QAAC,CAAC;;KAGP;EACH,CAAC;EACDG,OAAO,EAAE;IACPC,UAAU,WAAAA,WAACC,QAAQ,EAAEC,UAAU;MAAA,IAAAC,KAAA;MAC7B;MACA,IAAI,CAACC,KAAK,CAACH,QAAQ,CAAC,CAACI,QAAQ,CAAC,UAACC,KAAK,EAAI;QACtC,IAAGA,KAAK,EAAE;UACR;UACA,IAAAC,qBAAW,EAACJ,KAAI,CAACpB,QAAQ,CAAC,CAACyB,IAAI,CAAC,UAACC,GAAG,EAAI;YACtC,IAAGA,GAAG,CAAC5B,IAAI,CAAC6B,IAAI,KAAK,CAAC,EAAE;cACtBP,KAAI,CAACQ,QAAQ,CAACC,OAAO,CAAC,8BAA8B,CAAC;cACrD,IAAGV,UAAU,EAAE;gBACbC,KAAI,CAACpB,QAAQ,GAAG;kBACdC,IAAI,EAAE,EAAE;kBACRC,QAAQ,EAAE,EAAE;kBACZC,GAAG,EAAE,GAAG;kBACRC,KAAK,EAAE,EAAE;kBACTC,QAAQ,EAAE;iBACX;eACF,MAAM;gBACLe,KAAI,CAACU,OAAO,CAACC,IAAI,CAAC,WAAW,CAAC;;aAEjC,MAAM;cACLX,KAAI,CAACQ,QAAQ,CAACI,KAAK,CAACN,GAAG,CAAC5B,IAAI,CAACU,OAAO,CAAC;;UAEzC,CAAC,CAAC;;MAEN,CAAC,CAAC;IACJ;;CAGH","ignoreList":[]}]}